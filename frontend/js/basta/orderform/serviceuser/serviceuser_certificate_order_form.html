<div>
	<div class="col-lg-6">
		<div class="panel panel-default">
			<div class="panel-body">
				<form class="form-horizontal" role="form" ng-controller="ServiceUserCertificateFormController as formCtrl">
					<div class="form-group" ng-hide="isEmpty(formErrors.general)">
						<label class="col-sm-3 control-label">&nbsp;</label>

						<div class="col-sm-8">
							<p id="alert" class="alert alert-danger" ng-repeat="error in formErrors.general">{{error}}</p>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-3 control-label">&nbsp;</label>

						<div class="col-sm-8">
							<menu-item image="'security.png'" header="'Service user'" description="'certificate'"> </menu-item>
						</div>
					</div>

					<orderform-environment-classes model="formCtrl.settings.environmentClass"
						on-select="formCtrl.changeEnvironmentClass()"></orderform-environment-classes>
					<orderform-zones model="formCtrl.settings.zone"></orderform-zones>

					<div class="form-group">
						<label class="col-sm-3 control-label">Applikasjon</label>

						<div class="col-sm-8">
							<ui-select theme="bootstrap" ng-change="formCtrl.changeApplication()" ng-model="formCtrl.settings.application"> <ui-select-match
								id="applicationMappingName" placeholder="Velg applikasjon..."> {{$select.selected.name}} 
								<i ng-show="busies.applicationMappingName" class="fa fa-spin fa-refresh"></i> 
								</ui-select-match> 
								<ui-select-choices
								repeat="app.name as app in formCtrl.choices | filter: $select.search">
							<div ng-bind-html="app.name | highlight: $select.search"></div>
							<small ng-hide="app.applications === undefined" ng-bind-html="app.applications"></small> </ui-select-choices> </ui-select>
							<p ng-show="formErrors.applicationMapping_error" class="alert alert-danger">
								{{formErrors.applicationMapping_error}}</p>
						</div>
					</div>
					

					<hr />
					<div class="form-group">
						<p class="alert alert-warning" ng-show="formCtrl.isInFasit">Denne ressursen finnes allerede i Fasit. En ny bestilling vil kreve en redeploy
							av applikasjoner som bruker dette sertifikatet.</p>
						<label class="col-sm-3 control-label" ng-class="{busy: busies.orderSend}">&nbsp;</label>
						<div class="col-sm-8">
							<button id="sendButton" class="btn btn-success pull-right" 
							ng-click="formCtrl.submitOrder()" 
							type="button">Bestill
							</button>

						</div>
					</div>
				</form>
			</div>
		</div>

	</div>
</div>



<div ng-controller="orderListController">
	<h1 class="page-header">Bestillingshistorikk</h1>
    <div class="table-responsive">
	<table class="table" ng-init="predicate = 'created'; reverse = true">
		<thead>
			<tr>
				<td><a ng-click="reverse = predicate == (predicate = 'id') && !reverse">#</a></td>
                <td><a ng-click="reverse = predicate == (predicate = 'status') && !reverse">Status</a></td>
                <td><a ng-click="reverse = predicate == (predicate = 'nodeType') && !reverse">Nodetype</a></td>
				<td><a ng-click="reverse = predicate == (predicate = 'createdBy') && !reverse">Opprettet av</a></td>
				<td><a ng-click="reverse = predicate == (predicate = 'created') && !reverse">Tidspunkt</a></td>

			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="order in orders | orderBy:predicate:reverse"
                    data-toggle="collapse">
				<td><a href="#/order_details/{{order.id}}"><i class="glyphicon glyphicon-folder-open"/> {{order.id}} </a></td>
                <td>
                    <span ng-class="{'alert alert-sm alert-danger' : order.status === 'ERROR' || order.status==='FAILURE',
                                     'alert alert-sm alert-info' : order.status === 'PROCESSING' || order.status ==='NEW',
                                     'alert alert-sm alert-success' : order.status === 'SUCCESS'}">
                        <i ng-class="
                       {'glyphicon  glyphicon-exclamation-sign': order.bootstrapClass === 'danger',
                       'glyphicon glyphicon-ok': order.bootstrapClass === 'success',
                       'glyphicon glyphicon-refresh': order.bootstrapClass === 'info' ||  order.bootstrapClass === 'active'
                       }
                       "/>
                    </span>
                </td>
                <td>{{order.nodeType}}</td>
				<td>{{order.createdBy}}</td>
				<td>{{order.created|date:'yyyy-MM-dd HH:mm:ss'}}</td>

			</tr>
		</tbody>
	</table>
    </div>
</div>

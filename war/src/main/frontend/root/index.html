<!doctype html>
<html lang="en" ng-app="basta" ng-strict-di>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
    <title>basta</title>>
    <link rel="stylesheet" href="css/bundle.css"/>
</head>

<body id="body">
<span ng-controller="mainController">
<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">
                <span class="fa fa-cubes"></span>
                basta</a>
        </div>
        <login></login>
        <!--/.nav-collapse -->
    </div>
</div>

<div class="container-fluid">
    <div class="row">
        <div class="col-sm-1 col-md-1 sidebar">
            <ul class="nav nav-sidebar">

                <li ng-class="{ active: location.path().match('menu$') }"
                    ng-hide="!currentUser.authenticated || isAnyBlockingNotifications">
                    <a href="#/menu"><i class="fa fa-plus"></i> Create</a>
                </li>
                <li ng-class="{ active: location.path().match('order_list$') }">
                    <a href="#/order_list"><i class="fa fa-history"></i> Order history</a>
                </li>
                <li ng-class="{ active: location.path().match('order-operation$') }" ng-hide="!currentUser.superUser">
                    <a href="#/order-operation"><i class="fa fa-wrench"></i> Operations</a>
                </li>
                <li ng-class="{ active: location.path().match('notifications$') }" ng-hide="!currentUser.superUser">
                    <a href="#/notifications"><i class="fa fa-flag"></i> Notifications</a>
                </li>

            </ul>
        </div>
        <div class="col-md-11 col-md-offset-1 main">
            <div class="alert alert-danger" ng-hide="isObjectEmpty(errors)" ng-controller="errorController">
                <p ng-repeat="(name, error) in errors"><strong>{{name}}</strong> {{error.message}} <br/>
                    {{error.description}}</p>
            </div>
            <div ng-repeat="note in notifications">
                <div ng-hide="notifications.length===0" ng-class="{
                                            'alert alert-danger' : note.blockOperations === true,
                                            'alert alert-warning' : note.blockOperations === false}">

                    <h5>
                        <i class="fa fa-2x fa-a"
                           ng-class="{'fa-warning': note.blockOperations === true,'fa-info-circle': note.blockOperations === false}"></i>
                        {{note.message}}
                    </h5>
                     <span class="pull-right">
                             Created by {{note.createdByDisplayName}} {{note.created|timeago}}
                      </span>

                </div>
            </div>
            <div class="main" ng-view></div>
        </div>
    </div>
</div>


<div class="navbar navbar-default navbar-fixed-bottom">
    <div class="container-fluid">
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li>
                    <span class="navbar-text">Version: <a href="/#/changelog?version={{version}}">{{version}}</a></span>
                </li>
                <li>
                     <span class="navbar-text">
                    <a class="tooltipped" data-toggle="tooltip" data-placement="top">
                        <i class="fa fa-database"></i>
                        DB
                    </a>
                    <div class="tooltip-content hide">
                        <div class="panel panel-primary">
                            <div class="panel-heading">Database</div>
                            <div class="panel-content">
                                <div>
                                    <h5 class=" text-primary break-word">{{datasource}}</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                         </span>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-link navbar-right">
                <li>
                    <span class="navbar-text">
                        <a target="_blank" href="http://confluence.adeo.no/pages/viewpage.action?pageId=40141088">
                            <i class="fa fa-thumbs-up"></i> Feedback</a>
                    </span>
                </li>
            </ul>
        </div>
    </div>
</div>

</span>
</body>
<script src="js/basta.js"></script>
</html>
<span ng-controller="orderformOpenAMProxyController as ctrl">
	<orderform image="'openam.png'" header="'OpenAM '" description="'Proxy server'" >
        <form novalidate class="form-horizontal" role="form" name="form">

            <orderform-environment-classes
                    model="ctrl.data.environmentClass"
                    on-select="ctrl.changeEnvironmentClass()">
            </orderform-environment-classes>
            <orderform-environments
                    model="ctrl.data.environmentName"
                    env-class-key="ctrl.data.environmentClass"
                    show-validation="form.$submitted"
                    on-select="ctrl.changeEnvironment()"
                    custom-multisite-alert="'Dette er ett multisite miljÃ¸. Normalt bestiller man to servere for disse miljÃ¸ene'">
            </orderform-environments>
            <orderform-dropdown
                    model="ctrl.data.serverCount"
                    label="'Antall servere'"
                    choices="ctrl.choices.serverCount"
                    show-validation="form.$submitted">
            </orderform-dropdown>
              <orderform-alert-error
						label="'Validation '"
               			details="ctrl.validation.fasitDetails"
						show-alert="ctrl.validation.fasitPrerequisite"
						show-validation="form.$submitted">
					</orderform-alert-error>
            <orderform-buttons
                    on-submit="ctrl.submitOrder()"
                    formvalid="form.$valid">
            </orderform-buttons>
        </form>
    </orderform>
    <cost-calculator
            cpus="2"
            memory="4"
            disk="ctrl.data.extraDisk"
            environment="ctrl.data.environmentClass"
            environment-name="ctrl.data.environmentName"
            os="rhel"
            classification="'custom'"
            server-count="ctrl.data.serverCount"
    ></cost-calculator>
<!--    <div >
        <pre>{{ctrl.data | json}}</pre>
    </div>-->
</span>

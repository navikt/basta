<span ng-controller="MqChannelFormController as ctrl"> 
<orderform	image="'websphere.png'"	header="'MQ'"	description="'Channel'">
	<form novalidate class="form-horizontal" role="form" name="form">

		<orderform-environment-classes
			model="ctrl.data.environmentClass"
			on-select="ctrl.changeEnvironmentClass()"></orderform-environment-classes>

		<orderform-environments
			model="ctrl.data.environmentName"
			env-class-key="ctrl.data.environmentClass"
			show-validation="form.$submitted"
			on-select="ctrl.changeEnvironment()"> </orderform-environments>

		<orderform-applications
			model="ctrl.data.application"
			applications-only="true"
			show-validation="form.$submitted"
			on-select="ctrl.changeApplication()"> </orderform-applications>

		<orderform-queue-managers
			model="ctrl.data.queueManager"
			show-validation="form.$submitted"
			env-class-key="ctrl.data.environmentClass"
			on-select="ctrl.changeQueueManager()"> </orderform-queue-managers>

		<orderform-generated-text
			id="fasitAlias"
			label="Fasit alias"
			model="ctrl.data.fasitAlias"
			min-length="5"
			in-edit-mode="ctrl.inEditAliasMode"
			show-validation="form.$submitted"> </orderform-generated-text>

		<orderform-generated-text
			id="channelName"
			label="MQ kanalnavn"
			model="ctrl.data.mqChannelName"
			max-length="20"
			pattern="^[A-Z0-9][A-Z0-9._]*[A-Z0-9]$"
			in-edit-mode="ctrl.inEditNameMode"
			tooltip="Navnestandard er miljø_applikasjon i store bokstaver. Makslengde er 20 tegn"
			show-validation="form.$submitted"> </orderform-generated-text>
		
		<orderform-generated-text
			id="username"
			label="AD bruker"
			model="ctrl.data.username"
			in-edit-mode="ctrl.inEditUserMode"
			tooltip="Brukernavn fra AD som brukes til å autentisere bruker mot kanalen. Både brukernavn og passord kan maks være 12 tegn langt."
			min-length="5"
			max-length="12"
			show-validation="form.$submitted"> </orderform-generated-text>

		<orderform-textinput
			id="description"
			model="ctrl.data.description"
			label="Beskrivelse for kanalen"
			required="'true'"
			show-validation="form.$submitted"> </orderform-textinput>

		<orderform-buttons
			on-submit="ctrl.submitOrder()"
            busy="ctrl.processing"
			formvalid="form.$valid"> </orderform-buttons>
	</form>
	</orderform>

	<div class="col-sm-3">
		<div class="panel panel-default" ng-show="ctrl.data.fasitAlias">
			<div class="panel-heading">
				<i class="fa fa-info"></i> Hva blir opprettet?
			</div>

			<div class="panel-body">
				<ul>
					<li>Fasit ressurs {{ctrl.data.fasitAlias}}</li>
					<li>MQ kanal {{ctrl.data.mqChannelName}}</li>
					<li>Bruker {{ctrl.data.username}}</li>
				</ul>
			</div>
		</div>
		<div>
			<pre>{{ctrl.data | json}}</pre>
		</div>

	</div>
</span>
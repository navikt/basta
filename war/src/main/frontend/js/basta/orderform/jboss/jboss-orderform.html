<span ng-controller="orderformJbossController as ctrl">
	<orderform  image="'jboss.png'" header="'JBoss'" description="'Application Server'"  >
		<form novalidate class="form-horizontal" role="form" name="form"  >
               
               <orderform-environment-classes
                       model="ctrl.data.environmentClass"
                       on-select="ctrl.changeEnvironmentClass()">
               </orderform-environment-classes>
               <orderform-zones
                       model="ctrl.data.zone"
                       show-validation="form.$submitted">
               </orderform-zones>
            
               <orderform-environments
                       model="ctrl.data.environmentName"
                       env-class-key="ctrl.data.environmentClass"
                       enrich-multisite-info="true"
                       show-validation="form.$submitted"
                       config="ctrl.config.multisite">
               </orderform-environments>
               <orderform-applications
                       model="ctrl.data.applicationMappingName"
                       applications-only="false"
                       show-validation="form.$submitted">
               </orderform-applications>
                 <orderform-dropdown
                            model="ctrl.data.serverCount"
                            label="'Antall servere'"
                            choices="[1,2,4]"
                            show-validation="form.$submitted" >
                    </orderform-dropdown>
                  <orderform-dropdown
                            model="ctrl.data.cpuCount"
                            label="'Antall cpu'"
                            choices="[1, 2, 3, 4]"
                            show-validation="form.$submitted" >
                    </orderform-dropdown>
                    
                    <orderform-dropdown
                            model="ctrl.data.memory"
                            label="'Minne (Mb)'"
                            choices="[512, 1024, 2048, 4096]"
                            choice-suffix ="'M'"
                            show-validation="form.$submitted" >
                    </orderform-dropdown>
                     <orderform-dropdown
                            model="ctrl.data.extraDisk"
                            label="'Extra disk'"
                            choices="[0, 5, 10, 20]"
                            choice-suffix ="'G'"
                            optional="'true'"
                            show-validation="form.$submitted" >
                    </orderform-dropdown>
                 
                    <orderform-classification
                            model="ctrl.data.classification"
                            show-validation="form.$submitted">
                    </orderform-classification>
                    
                    <orderform-buttons
                           on-submit="ctrl.submitOrder()"
                           formvalid="form.$valid">
                    </orderform-buttons>
			</form>
	</orderform>
	<div class="col-sm-2">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<i class="fa fa-calculator"></i> Estimert kostnad
			</div>

			<div class="panel-body">
				<h3>{{ctrl.estimatedPrice() | number: 0  }}</h3>
			</div>
		</div>
		
		<div >
			<pre>{{ctrl.data | json}}</pre>
		</div>
	</div>
</span>

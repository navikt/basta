<span ng-controller="wasDmgrController as ctrl">
	<orderform  image="'websphere.png'" header="'WAS '" description="'Deployment manager'"  >
		<form novalidate class="form-horizontal" role="form" name="form"  >
               
               <orderform-environment-classes
                       model="ctrl.data.environmentClass"
                       on-select="ctrl.changeEnvironmentClass()">
               </orderform-environment-classes>
               <orderform-zones
                       model="ctrl.data.zone"
                       on-select="ctrl.changeZone()"
                       show-validation="form.$submitted">
               </orderform-zones>
            
               <orderform-environments
                       model="ctrl.data.environmentName"
                       env-class-key="ctrl.data.environmentClass"
                       show-validation="form.$submitted"
                       on-select="ctrl.changeEnvironment()"
                       custom-multisite-alert="'Dette er ett multisite miljø, men det er kun mulig å ha en deploymentmanager for hvert miljø. Derfor blir denne satt opp som en singelnode'">
               </orderform-environments>
               <orderform-alert-error
						label="'Manglende påkrevde ressurser i fasit:'"
               			details="ctrl.validation.fasitDetails"
						show-alert="ctrl.validation.fasitPrerequisite"
						show-validation="form.$submitted">
					</orderform-alert-error>
                    
                    <orderform-buttons
                           on-submit="ctrl.submitOrder()"
                           formvalid="form.$valid">
                    </orderform-buttons>
			</form>
	</orderform>
	    <cost-calculator
				cpus="ctrl.data.cpuCount"
				memory="ctrl.data.memory"
				disk="ctrl.data.extraDisk"
				environment="ctrl.data.environmentClass"
				environment-name="ctrl.data.environmentName"
				os="rhel"
				vm-type="was"
				classification="'custom'"
				server-count="ctrl.data.serverCount"
		></cost-calculator>

</span>

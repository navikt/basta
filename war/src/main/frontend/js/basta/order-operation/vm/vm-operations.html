<orderform image="'redhat.png'" header="'VM operations'" description="'Start, stop eller slett'">
<form novalidate class="form-horizontal" role="form" name="form" ng-controller="vmOperationController as ctrl">


	<div class="form-group" ng-form="subForm">
		<label class="col-sm-3 control-label">Hostname</label>

		<div class="input-group col-sm-8">
			<input class="form-control" ng-model="ctrl.data.hostname" type="text" ng-required="true" ng-change="ctrl.hostnameChanged()">
		</div>

		<div class="col-sm-1" ng-show="ctrl.showValidation">
			<orderform-validation type="success" ng-show="subForm.$valid"></orderform-validation>
			<orderform-validation type="warning" validation-text="'Skriv inn hostnavn'" ng-show="subForm.$invalid"></orderform-validation>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-3 control-label">Search result</label>
		<div class="col-sm-8">
			<em ng-show="ctrl.data.hostname.length > 2 && ctrl.results.length == 0"> <i class="fa fa-info-circle fa-2x pull-left text-info"></i>Fant ikke
				det det søkes etter i <a href="http://sera.adeo.no" target="sera">sera</a>. Dette betyr at serveren du søker etter ikke finnes, ikke kan
				identifiseres unikt, eller at serveren er så ny at systemet ikke har blitt oppdatert. Du har fortsatt muligheten til å gjøre operasjoner.
			</em>
			<table class="table" ng-show="ctrl.results.length != 0">
				<tbody>
					<tr ng-repeat="host in ctrl.results.values()" ng-class="{'text-muted' : !host.hasAccess }">
						<td><i class="fa fa-power-off" ng-class="{'text-danger' : host.status==='poweredOff','text-success' : host.status==='poweredOn', }"></i></td>
						<td>{{host.hostname}}</td>
						<td>Application {{host.application}} in {{host.environment}}</td>
						<td><i class="fa fa-ban text-danger" ng-show="!host.hasAccess"></i></td>
					</tr>
				</tbody>
			</table>

		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-3 control-label"></label>
		<div class="col-sm-8">
			<em ng-show="ctrl.data.hostname.length > 2 && !ctrl.hasAccess()"> <i class="fa fa-exclamation-triangle fa-2x pull-left text-warning"></i> Du
				har ikke tilgang til en eller flere av serverene: {{ctrl.getHostNames()}}
			</em>
		</div>
	</div>
	<operation-buttons on-start="ctrl.start()" on-stop="ctrl.stop()" on-delete="ctrl.remove()" formvalid="form.$valid" disabled="!ctrl.hasAccess()"></operation-buttons>


</form>
</orderform>

<span ng-controller="queueOperationController as ctrl"> <orderform image="'mq.png'" header="'MQ queue operations'"
		description="'Start, stop eller slett'">
	<form novalidate class="form-horizontal" role="form" name="form">

		<orderform-environment-classes model="ctrl.data.environmentClass" on-select="ctrl.changeEnvironmentClass()" disable="'t,q,p'">
		</orderform-environment-classes>

		<orderform-environments model="ctrl.data.environmentName" env-class-key="ctrl.data.environmentClass" show-validation="form.$submitted"
			on-select="ctrl.changeEnvironment()" disable-multisite-alert="true"> </orderform-environments>

		<orderform-applications model="ctrl.data.application" applications-only="true" show-validation="form.$submitted"
			on-select="ctrl.changeApplication()"> </orderform-applications>

		<orderform-queue-managers model="ctrl.data.queueManager" show-validation="form.$submitted" env-class-key="ctrl.data.environmentClass"
			environment-name="ctrl.data.environmentName" application="ctrl.data.application" on-select="ctrl.changeQueueManager()">
		</orderform-queue-managers>

		<orderform-dropdown model="ctrl.data.queueName" label="'Kønavn'" choices="ctrl.queueNames" show-validation="form.$submitted"
			on-select="ctrl.queueNameSelected()"> </orderform-dropdown>


		<div class="form-group" ng-show="ctrl.data.queueName">
			<label class="col-sm-3 control-label">Søkeresultater</label>
			<div class="col-sm-8">
			<i class="fa fa-info-circle fa-2x pull-left text-info"></i>
				<p>Følgende objekter i MQ og Fasit er funnet og vil bli gjort operasjoner på</p>
				<em>
					<p ng-show="ctrl.mqObjects.alias">- Alias kø {{ctrl.mqObjects.alias}}</p>
					<p ng-show="ctrl.mqObjects.name">- Lokal kø {{ctrl.mqObjects.name}}</p>
					<p ng-show="ctrl.mqObjects.backoutQueueName">- Backout kø {{ctrl.mqObjects.backoutQueueName}}</p>
					<em>
					<p ng-repeat="resource in ctrl.fasitResources">- Fasit ressurs {{resource.alias}} i miljø {{resource.environmentName}}</p>
				</em>
				</em>
			</div>
		</div>

		<operation-buttons on-start="ctrl.start()" on-stop="ctrl.stop()" on-delete="ctrl.remove()" formvalid="form.$valid" disabled="!ctrl.hasAccess()"></operation-buttons>


	</form>
	</orderform>
	<div class="col-sm-3">
		<div>
			<pre>{{ctrl.data | json}}</pre>
		</div>
	</div>
</span>